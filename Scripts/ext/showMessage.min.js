(function (a) { var b; a.fn.showMessage = function (c) { var d = { thisMessage: [""], className: "notification", position: "top", zIndex: 9992, opacity: 90, useEsc: true, displayNavigation: true, autoClose: false, delayTime: 5e3, closeText: "close", escText: "Esc Key or" }; var e = a.extend(d, c); this.each(function () { if (a("#showMessage", window.parent.document).length) { a("#showMessage", window.parent.document).remove() } var c = a("<div></div>").css({ display: "none", position: "fixed", "z-index": e.zIndex, margin: 0, filter: "Alpha(Opacity=" + e.opacity + ")", opacity: e.opacity / 100 }).attr("id", "showMessage").addClass(e.className); if (e.position == "top") { a(c).css("top", 0) } else { a(c).css("bottom", 0) } if (e.useEsc) { a(window).keydown(function (c) { var d; if (c === null) { d = window.event.keyCode } else { d = c.which } if (d == 27) { a("#showMessage", window.parent.document).fadeOut(); if (typeof b != "undefined") { clearTimeout(b) } } }) } else { a(window).unbind("keydown") } if (e.displayNavigation) { var d = a("<span></span>").css({ "float": "right", "padding-right": "1em", "font-weight": "bold", "font-size": "small" }); if (e.useEsc) { a(d).html(e.escText + " ") } var f = a("<a></a>").attr({ href: "", title: e.closeText }).css("text-decoration", "underline").click(function () { a("#showMessage", window.parent.document).fadeOut(); clearTimeout(b); return false }).text(e.closeText); a(d).append(f); a(c).append(d) } else { a(window).click(function () { if (a("#showMessage", window.parent.document).length) { /*a("#showMessage", window.parent.document).fadeOut();*/ a(window).unbind("click"); if (typeof b != "undefined") { clearTimeout(b) } } }) } var g = a("<div></div>").css({ "max-width": "500px", "min-width": "87px", margin: "auto", padding: "0.5em" }); var h = a("<ul></ul>").css({ "font-size": "9pt", "font-weight": "normal", margin: "1px", "padding-left": 0 }); for (var i = 0; i < e.thisMessage.length; i++) { var j = a("<li></li>").html(e.thisMessage[i]).css({ "list-style-image": "none", "list-style-position": "outside", "list-style-type": "none" }); a(h).append(j) } a(g).append(h); a(c).append(g); if (e.position == "top") { a(this, window.parent.document).prepend(c) } else { a(this, window.parent.document).append(c) } a(c).fadeIn(); if (e.autoClose) { if (typeof b != "undefined") { clearTimeout(b) } b = setTimeout(function () { a("#showMessage", window.parent.document).fadeOut() }, e.delayTime) } }) }; a.fn.showMessage.closeMessage = function (c) { if (a("#showMessage", window.parent.document).length) { clearTimeout(b); a("#showMessage", window.parent.document).fadeOut() } } })(jQuery)